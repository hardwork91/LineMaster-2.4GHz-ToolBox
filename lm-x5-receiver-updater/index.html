<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>LineMaster 2.4GHz LM-X5 Receiver Updater</title>
    <meta
      name="description"
      content="Easily update the firmware of your LM-X5 receiver in a single step."
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />

    <!-- Lite YouTube embed -->
    <script
      type="module"
      src="https://unpkg.com/@justinribeiro/lite-youtube@1.4.0/lite-youtube.js"
    ></script>

    <!-- ESP Web Tools install button -->
    <script type="module">
      import "https://unpkg.com/esp-web-tools/dist/web/install-button.js?module";
    </script>

    <style>
      body {
        margin: 0;
        min-height: 100vh;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: #f9fafb;
        color: #111827;
        display: flex;
        flex-direction: column;
      }

      /* Top bar with back button + title */
      .topbar {
        background: #f9fafb;
        padding: 12px 16px;
        display: flex;
        align-items: center;
        gap: 16px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
        position: sticky;
        top: 0;
        z-index: 10;
      }

      .topbar .title {
        font-size: 1rem;
        font-weight: 600;
      }

      button {
        padding: 8px 14px;
        border-radius: 6px;
        border: 1px solid #d1d5db;
        cursor: pointer;
        font-size: 0.95rem;
      }

      button.secondary {
        background: #ffffff;
        color: #111827;
      }

      /* Main content */
      main {
        padding: 1rem;
        text-align: center;
        flex: 1;
        overflow-y: auto;
      }

      main .container {
        width: 60%;
        max-width: 720px;
        min-width: 280px;
        margin: 0 auto;
      }

      main p {
        margin-bottom: 1rem;
        color: #333333;
      }

      .videoWrapper {
        position: relative;
        padding-bottom: 56.25%; /* 16:9 */
        height: 0;
        margin-bottom: 25px;
        background: #cccccc;
      }

      .videoWrapper lite-youtube {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
      }

      main ol {
        margin-top: -10px;
        text-align: left;
        display: inline-block;
      }

      .alert-danger {
        display: flex;
        align-items: flex-start;
        background-color: #fff2ef;
        padding: 1rem;
        border-radius: 0.375rem;
        margin: 1rem 0 1.5rem;
      }

      .alert-danger svg {
        flex-shrink: 0;
        width: 1.25rem;
        height: 1.25rem;
        margin-right: 0.75rem;
        color: rgb(251, 44, 54);
        fill: currentColor;
      }

      .alert-danger .alert-text {
        text-align: left;
      }

      /* ESP Web Tools button */
      esp-web-install-button {
        --esp-tools-button-color: black;
        --esp-tools-button-text-color: white;
        --esp-tools-button-border-radius: 6px;
      }

      /* Footer */
      footer {
        background: #121212;
        color: #ffffff;
        text-align: center;
        padding: 0.75rem;
        font-size: 0.85rem;
      }
    </style>
  </head>
  <body>
    <header class="topbar">
      <button id="btnBack" class="secondary" onclick="location.href='../'">
        ðŸ‘ˆ Back to ToolBox
      </button>
      <span class="title">LineMaster 2.4GHz LM-X5 Receiver Updater</span>
    </header>

    <main>
      <div class="container">
        <p>
          This online tool lets you easily install the latest firmware for your
          <strong>LineMaster 2.4GHz LM-X5</strong> receiver directly from your
          browser.
        </p>

        <!-- Optional video -->
        <!--
        <div class="videoWrapper">
          <lite-youtube
            videoid="5EhpCTnGJlE"
            videotitle="LineMaster 2.4GHz LM-X5 Receiver Firmware Update"
          ></lite-youtube>
        </div>
        -->

        <p><strong>Before you update:</strong></p>
        <ol>
          <li>
            Connect your LM-X5 receiver to your computer using the USB-C data
            cable provided in your LineMaster 2.4GHz kit (or any other USB-C
            cable that supports data transfer).
          </li>
          <li>Make sure you are using Google Chrome or Microsoft Edge.</li>
        </ol>

        <div class="alert-danger" role="alert">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            aria-hidden="true"
          >
            <path
              d="M12 2c5.5 0 10 4.5 10 10s-4.5 10-10 10S2 17.5 2 12
             6.5 2 12 2zm0 3a1 1 0 0 0-.993.883L11 6v6a1 1 0 0 0
             1.993.117L13 12V6a1 1 0 0 0-1-1zm0 12a1.5 1.5 0 1 0
             .001-3.001A1.5 1.5 0 0 0 12 17z"
            />
          </svg>
          <div class="alert-text">
            Do not disconnect the receiver or turn off your computer during the
            update process, as this may render the device unusable. Place the
            receiver on a secure surface to prevent falls or accidental cable
            disconnection during the update.
          </div>
        </div>

        <p>
          Click the button below to connect your
          <strong>LM-X5 receiver</strong> and start the update process.
        </p>
        <esp-web-install-button manifest="./manifest_LM-5X.json">
          Connect and update
        </esp-web-install-button>
      </div>
    </main>

    <footer>LineMaster 2.4GHz | LM-X5 Receiver Updater | 2025</footer>
  </body>
</html>
